<div class="row col-4 mx-auto container-fluid">
    <pbc-generation-picker *ngIf="allGenerations"
        (generationSelected)="generationSelected($event)"></pbc-generation-picker>

    <div *ngIf="isLoading">
        <!-- Use 'd-flex' and 'justify-content-center' to center horizontally -->
        <div class="spinner-grow text-danger" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</div>
<div class="container-fluid col-4 mb-5">
    <div *ngIf="types && damageMultipliers && isLoading === false" class="row">
        <table class="type-grid mt-3">
            <tr>
                <td>
                    <div class="text-black">def →</div>
                    <div class="text-black">att ↓</div>
                </td>
                <td *ngFor="let type of types; let c = index" #typeCell class="type-cell color-{{type}} text-white"
                    [attr.col]="c" (mouseenter)="onCellMouseEnter(-1, c)" (mouseleave)="onCellMouseLeave(-1, c)">
                    {{type.substring(0, 3)}}
                </td>
            </tr>
            <tr *ngFor="let dm of damageMultipliers; let r = index">
                <td #typeCell class="type-cell color-{{dm.types[0]}} text-white" [attr.row]="r"
                    (mouseenter)="onCellMouseEnter(r, -1)" (mouseleave)="onCellMouseLeave(r, -1)">
                    {{dm.types[0].substring(0, 3)}}
                </td>
                <td *ngFor="let type of types; let c = index" [attr.row]="r" [attr.col]="c" #typeCell
                    class="text-center fs-6 text-white type-cell" (mouseenter)="onCellMouseEnter(r, c)"
                    (mouseleave)="onCellMouseLeave(r, c)" [ngClass]="{
                    'bg-success': doesContain(dm.two, type),
                    'bg-danger': doesContain(dm.half, type),
                    'bg-secondary': doesContain(dm.zero, type)}">
                    <div *ngIf="doesContain(dm.one, type)"></div>
                    <div *ngIf="doesContain(dm.two, type)">2</div>
                    <div *ngIf="doesContain(dm.half, type)">½</div>
                    <div *ngIf="doesContain(dm.zero, type)">0</div>
                </td>
            </tr>
        </table>
    </div>
</div>